# 半自动卡组判定机
对于每一个输入的卡组而言，该半自动卡组判定机将根据给出的定义文件输出
    
+ 一个**卡组**名
+ 若干个**标签**名

或 `nil` 表示无任何卡组类型匹配。

## 定义文件来源

该判定机默认从 `Definition/` 文件夹下读入所有定义。
定义文件支持下述类型：

+ json
+ yaml
+ 特有 DSL（定义格式参见 `Compiler.md`）

## 判定机制

当一个卡组送入时，判定机做如下工作：

1. 按优先级从高到低判断所有卡组类别。只要任何一个卡组类别符合，立即停止判定并放入结果中。
2. 判定该卡组类别下的所有定义的专属标签。将符合的标签加入结果中。
3. 将卡组送所有标记为 `global` 的标签判定。将符合的标签加入结果中。
4. 如果任一卡组类别均没有判定成功，则在所有符合的标签中，具有最高优先级且标记为 `upgrade` 的标签改为卡组类别。与它具有相同优先级和比它低一级优先级的所有标签放置在一起，拼成一个卡组类别名。
5. 如果任一卡组类别均没有判定成功，且标签中没有标记为 `upgrade` 者，返回 `nil`。
6. 返回结果。

## 文件结构
待补充。