# `.deckdef` 文件定义速览
本文简要的说明如何使用 `.deckdef` 来进行卡组类别定义。
## 定义文件结构
   `.deckdef` 文件使用**缩进**来区分层级结构。
   
   多个定义在同一个文件中时，直接并列放置即可。
   
   缩进不论何时都认为 `Tab` 空格数为 `2`。对于多数编写者而言，您无需关心这个数字。
  
   `#` 为注释提示符。不论处于何种语境下的 `#` 后面的字符将被忽略。如果需要使用 `#` 字符进行相关编写，请使用 `\#` 代替。
## 怎样定义一个约束条件
约束条件是指一个对于卡组的条件。

用 `card:` 来指定某个卡的数量条件：

    card: 六武之门 main >= 1

用 `set:` 来指定某个系列的卡的数量条件：

    set: 暗黑界 >= 10
    
判断在何处判定（诸如 `main`）这一选项是可选的。如果不指定的话，会判断整个卡组中的总数（`all`）。这一位置可以填下列内容：
    
+ `main`
+ `side`
+ `ex`
+ `all`

判断条件中，`=` 和 `==`是等价的。

简略的写，可以直接用 `!` 来代替 `card` 和 `set`，如：
    
        ! 十二兽 鼠 main >= 2 # 定义某张卡的数量
        ! [真龙] >= 10       # 定义某个系列卡的数量
    
### 关于卡名
在指定一张卡时，您可以使用`八位密码`来指定。

当输入的卡名是汉字时，系统会从卡池中检索具有该名称的卡，有多个卡时，`八位密码`在先者优先：

    ! 31444249 >= 3      # 炼狱的虚梦
    ! 狱火机·提耶拉 >= 1   # 狱火机·提耶拉
    ! 陀螺 >= 3           # 疾行机人 贝陀螺集合体
    ! 天帝 >= 2           # 天帝从骑 爱迪娅
    ! 真六武众 紫炎 >= 1   # 没有合适的卡匹配

## 怎样定义一个卡组
第一行如下：
    
    deck: 卡组名
    
还可在定义卡组名时快捷指定卡组优先级：

    deck: 卡组名 [优先级]
    
然后在缩进下输入您的约束即可，如：

    deck: 炼装
        ! [炼装] >= 10
        ! 威风妖怪 麒麟 >= 2
        
当所有约束**均成立**时，则认为送入的卡组满足条件。

### 为卡组定义优先级

    deck: Sample1
        priority: 10
        
有多个优先级定义时，**最后**那个生效。

### 为卡组定义标签（Tag）
在卡组中定义的标签 **仅属于这个卡组类型**。

为卡组定义标签时，直接缩进一级编写即可。

若不为标签编写内容，则在所有文件载入结束以后，程序会从所有标签池中搜索符合名称的第一个标签代入。

##怎样定义一个标签（Tag）

第一行如下：

    tag: 标签名 [优先级]
    
同样优先级是可选项。不需要优先级的场合，还可以用下列方式快捷定义：

    (标签名)
    
请注意括号为半角括号。

此后用同样的方式编写约束即可：

    (吸毒壶)
        ! 强欲而贪欲之壶 >= 2
        
如果需要制定特别的参数（如 `global`，`upgrade`），需用 `config:` 行指定：

    (十二兽)
        config: global
        config: upgrade
        ! [十二兽] >= 7
        
# 范例
范例可以参考本仓库内的 `set.deckdef` 和 `xpg.deckdef` 文件。